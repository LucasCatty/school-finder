<!-- Chat Form: Submit message to chat view -->
<form action="{% url 'chat' %}" method="POST">
  {% csrf_token %}

  <!-- Hidden fields: user ID and contact ID -->
  <input type="hidden" name="user_id" value="{{ user.id }}">
  <input type="hidden" name="contact_id" value="{{ contact }}">

  <!-- Message Input -->
  <div class="mb-3">
    <label for="message" class="form-label">{{ _("Message") }}:</label>
    <textarea 
      id="message"
      name="message"
      rows="4"
      class="form-control"
      placeholder="{{ _('Please enter message here...') }}"
      required
    ></textarea>
  </div>

  <!-- Submit and View History Buttons -->
  <div class="d-grid gap-2">
    <button type="submit" class="btn btn-secondary">
      {{ _('Send message') }}
    </button>
    <a href="{% url 'chat-history' contact %}" class="btn btn-primary">
      {{ _('View history') }}
    </a>
  </div>
</form>
