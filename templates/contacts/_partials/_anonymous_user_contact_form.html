<form action="{% url 'user-contact' %}" method="POST">
  {% csrf_token %}

  <!-- Hidden Fields -->
  <input type="hidden" name="user_id" value="{{ 0 }}">
  <input type="hidden" name="realtor_email" value="{{ listing.realtor.email }}">
  <input type="hidden" name="listing_id" value="{{ listing.id }}">
  <input type="hidden" name="email" value="{{ email }}">

  <!-- Property Field -->
  <div class="form-group">
    <label for="property_name" class="col-form-label">Property:</label>
    <input type="text" name="listing" class="form-control" value="{{ listing.title }}" readonly>
  </div>

  <!-- Name Field -->
  <div class="form-group">
    <label for="name" class="col-form-label">Firstname:</label>
    <input 
      type="text" 
      name="name" 
      class="form-control" 
      value="{{ user.first_name }} {{ user.last_name }}" 
      {% if user.first_name and user.last_name %}readonly{% endif %}
    >
  </div>

  <!-- Lastname Field -->
  <div class="form-group">
    <label for="last_name" class="col-form-label">Lastname:</label>
    <input 
      type="text" 
      name="last_name" 
      class="form-control" 
      value="{{ user.last_name }}" 
      {% if user.last_name %}readonly{% endif %}
    >
  </div>

  <!-- Phone Field -->
  <div class="form-group">
    <label for="phone" class="col-form-label">Phone:</label>
    <input 
      type="text" 
      name="phone" 
      class="form-control" 
      value="{{ user.phone|default:'' }}"
    >
  </div>

  <!-- Message Field -->
  <div class="form-group">
    <label for="message" class="col-form-label">Message:</label>
    <textarea name="message" class="form-control" rows="4" required></textarea>
  </div>

  <hr>
  <input type="submit" value="Send" class="btn btn-block btn-secondary">
</form>
